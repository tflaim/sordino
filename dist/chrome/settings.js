import{c as h,r as c,j as e,a as u,P as b,R as N,b as k}from"./chunks/index-DA0Dt8Zm.js";import{g as S,s as C,a as w}from"./chunks/storage-DpxcWYbS.js";const T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],f=h("check",T);const E=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],M=h("trash-2",E);const A=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],W=h("x",A),y=[{key:"mon",label:"Monday",short:"M"},{key:"tue",label:"Tuesday",short:"T"},{key:"wed",label:"Wednesday",short:"W"},{key:"thu",label:"Thursday",short:"T"},{key:"fri",label:"Friday",short:"F"},{key:"sat",label:"Saturday",short:"S"},{key:"sun",label:"Sunday",short:"S"}];function D(){const[n,l]=c.useState(null);c.useEffect(()=>(S().then(l),C(l)),[]);const a=async r=>{if(!n)return;const t=r(n);l(t),await w(t)};return n?e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx("div",{className:"fixed inset-0 opacity-[0.02] pointer-events-none bg-[url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%224%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22/%3E%3C/svg%3E')]"}),e.jsxs("div",{className:"relative max-w-2xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsxs("svg",{viewBox:"0 0 64 64",fill:"none",className:"w-8 h-8 text-primary",children:[e.jsx("path",{d:"M12 32C12 32 16 28 24 28C32 28 36 32 36 32",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M36 26V38",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M36 32H48C50 32 52 30 52 28V36C52 34 50 32 48 32",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"48",cy:"32",r:"4",stroke:"currentColor",strokeWidth:"2"}),e.jsx("path",{d:"M8 30V34",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("path",{d:"M4 28V36",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),e.jsx("h1",{className:"font-serif text-2xl font-medium tracking-wide text-primary",children:"Sordino Settings"})]}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"font-serif text-xl font-medium mb-4 text-foreground",children:"Schedules"}),e.jsx("div",{className:"space-y-3",children:n.schedules.map(r=>e.jsx(L,{schedule:r,onToggle:()=>{a(t=>({...t,schedules:t.schedules.map(o=>o.id===r.id?{...o,enabled:!o.enabled}:o)}))},onUpdate:t=>{a(o=>({...o,schedules:o.schedules.map(s=>s.id===r.id?t:s)}))},onDelete:()=>{a(t=>({...t,schedules:t.schedules.filter(o=>o.id!==r.id)}))}},r.id))}),e.jsx(V,{onAdd:r=>{a(t=>({...t,schedules:[...t.schedules,r]}))}})]}),e.jsx("div",{className:"border-t border-border mb-10"}),e.jsxs("section",{className:"mb-10",children:[e.jsx("h2",{className:"font-serif text-xl font-medium mb-4 text-foreground",children:"Blocked Sites"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium uppercase tracking-wider text-muted-foreground mb-3",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:n.categories.map(r=>e.jsx(_,{category:r,onToggle:()=>{a(t=>({...t,categories:t.categories.map(o=>o.id===r.id?{...o,enabled:!o.enabled}:o)}))}},r.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium uppercase tracking-wider text-muted-foreground mb-3",children:"Custom Sites"}),e.jsx("div",{className:"space-y-2 mb-3",children:n.customSites.length===0?e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No custom sites added"}):n.customSites.map(r=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 rounded-lg bg-secondary/30 border border-border/50",children:[e.jsx("span",{className:"text-sm",children:r}),e.jsx("button",{onClick:()=>{a(t=>({...t,customSites:t.customSites.filter(o=>o!==r)}))},className:"p-1 rounded hover:bg-destructive/20 text-muted-foreground hover:text-destructive transition-colors",children:e.jsx(W,{className:"w-4 h-4"})})]},r))}),e.jsx($,{onAdd:r=>{a(t=>({...t,customSites:[...t.customSites,r]}))},existingSites:n.customSites})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})})}function L({schedule:n,onToggle:l,onUpdate:a,onDelete:r}){const[t,o]=c.useState(!1),[s,i]=c.useState(n),x=d=>d.length===7?"Every day":d.length===5&&!d.includes("sat")&&!d.includes("sun")?"Weekdays":d.length===2&&d.includes("sat")&&d.includes("sun")?"Weekends":d.map(m=>m.charAt(0).toUpperCase()+m.slice(1,3)).join(", "),g=d=>{const[m,p]=d.split(":").map(Number),j=m%12||12,v=m>=12?"PM":"AM";return`${j}:${p.toString().padStart(2,"0")} ${v}`};return t?e.jsxs("div",{className:"rounded-xl border border-primary/30 bg-primary/5 p-4",children:[e.jsx("input",{type:"text",value:s.name,onChange:d=>i({...s,name:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm mb-4 focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Schedule name"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Days"}),e.jsx("div",{className:"flex gap-1",children:y.map(d=>e.jsx("button",{onClick:()=>{const m=s.days.includes(d.key)?s.days.filter(p=>p!==d.key):[...s.days,d.key];i({...s,days:m})},className:u("w-8 h-8 rounded-full text-xs font-medium transition-colors",s.days.includes(d.key)?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:d.short},d.key))})]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Start time"}),e.jsx("input",{type:"time",value:s.startTime,onChange:d=>i({...s,startTime:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"End time"}),e.jsx("input",{type:"time",value:s.endTime,onChange:d=>i({...s,endTime:d.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>{o(!1),i(n)},className:"px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:bg-secondary transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>{a(s),o(!1)},className:"px-3 py-1.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors",children:"Save"})]})]}):e.jsx("div",{className:u("rounded-xl border p-4 transition-all",n.enabled?"bg-secondary/30 border-border":"bg-transparent border-border/50 opacity-60"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:l,className:u("mt-0.5 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",n.enabled?"bg-primary border-primary text-primary-foreground":"border-muted-foreground"),children:n.enabled&&e.jsx(f,{className:"w-3 h-3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[x(n.days)," â€¢ ",g(n.startTime)," - ",g(n.endTime)]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o(!0),className:"px-2 py-1 rounded text-xs text-muted-foreground hover:bg-secondary hover:text-foreground transition-colors",children:"Edit"}),e.jsx("button",{onClick:r,className:"p-1 rounded text-muted-foreground hover:bg-destructive/20 hover:text-destructive transition-colors",children:e.jsx(M,{className:"w-4 h-4"})})]})]})})}function V({onAdd:n}){const[l,a]=c.useState(!1),[r,t]=c.useState({id:"",name:"",enabled:!0,days:["mon","tue","wed","thu","fri"],startTime:"09:00",endTime:"17:00"}),o=()=>{r.name.trim()&&(n({...r,id:`custom-${Date.now()}`}),a(!1),t({id:"",name:"",enabled:!0,days:["mon","tue","wed","thu","fri"],startTime:"09:00",endTime:"17:00"}))};return l?e.jsxs("div",{className:"mt-3 rounded-xl border border-dashed border-primary/30 bg-primary/5 p-4",children:[e.jsx("input",{type:"text",value:r.name,onChange:s=>t({...r,name:s.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm mb-4 focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"New schedule name",autoFocus:!0}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Days"}),e.jsx("div",{className:"flex gap-1",children:y.map(s=>e.jsx("button",{onClick:()=>{const i=r.days.includes(s.key)?r.days.filter(x=>x!==s.key):[...r.days,s.key];t({...r,days:i})},className:u("w-8 h-8 rounded-full text-xs font-medium transition-colors",r.days.includes(s.key)?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-secondary/80"),children:s.short},s.key))})]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Start time"}),e.jsx("input",{type:"time",value:r.startTime,onChange:s=>t({...r,startTime:s.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"End time"}),e.jsx("input",{type:"time",value:r.endTime,onChange:s=>t({...r,endTime:s.target.value}),className:"w-full px-3 py-2 rounded-lg bg-secondary border border-border text-sm focus:outline-none focus:ring-2 focus:ring-primary/50"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1.5 rounded-lg text-sm text-muted-foreground hover:bg-secondary transition-colors",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!r.name.trim(),className:"px-3 py-1.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors disabled:opacity-50",children:"Add Schedule"})]})]}):e.jsxs("button",{onClick:()=>a(!0),className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border border-dashed border-border hover:border-primary/50 hover:bg-primary/5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(b,{className:"w-4 h-4"}),"Add schedule"]})}function _({category:n,onToggle:l}){return e.jsxs("button",{onClick:l,className:u("flex items-center gap-2 px-4 py-2.5 rounded-lg border transition-all",n.enabled?"bg-primary/10 border-primary/30 text-foreground":"bg-secondary/30 border-border/50 text-muted-foreground"),children:[e.jsx("div",{className:u("w-4 h-4 rounded border-2 flex items-center justify-center transition-colors",n.enabled?"bg-primary border-primary text-primary-foreground":"border-muted-foreground"),children:n.enabled&&e.jsx(f,{className:"w-2.5 h-2.5"})}),e.jsx("span",{className:"text-sm font-medium",children:n.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.sites.length,")"]})]})}function $({onAdd:n,existingSites:l}){const[a,r]=c.useState(""),[t,o]=c.useState(""),s=()=>{const i=a.trim().replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0];if(!i){o("Please enter a site");return}if(l.includes(i)){o("Site already added");return}n(i),r(""),o("")};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:a,onChange:i=>{r(i.target.value),o("")},onKeyDown:i=>i.key==="Enter"&&s(),placeholder:"example.com",className:"flex-1 px-4 py-2.5 rounded-lg bg-secondary border border-border text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50"}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90 transition-colors",children:[e.jsx(b,{className:"w-4 h-4"}),"Add"]})]}),t&&e.jsx("p",{className:"mt-2 text-sm text-destructive",children:t})]})}N.createRoot(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(D,{})}));
